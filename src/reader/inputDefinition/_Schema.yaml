$id: _Schema.yaml
$schema: http://json-schema.org/draft-07/schema#
title: Schema Definition
type: object
properties:
  $id:
    type: string
  title:
    type: string
  description:
    type: string
  x-schema-type:
    type: string
    enum:
    - 'Aggregate'
    - 'Entity'
    - 'ValueObject'
    - 'ReferenceData'
oneOf:
  # A top-level enum
  - type: object
    properties:
      type:
        type: string
        enum: [string]
      enum:
        type: array
        items:
          type: string
      x-enum-description:
        type: object
        additionalProperties:
          type: string
    required:
      - enum
  # A top-level object
  - type: object
    properties:
      type:
        type: string
        enum: [object]
      properties:
        type: object
        additionalProperties:
          $ref: _Property.yaml
      required:
        type: array
        items:
          type: string
    required:
      - properties
  # An interface
  - type: object
    properties:
      type:
        type: string
        enum: [object]
      oneOf:
        type: array
        items:
          type: object
          properties:
            $ref:
              type: string
          required:
            - $ref
    required:
      - oneOf
required:
  - $id
  - title
  - type
  - x-schema-type